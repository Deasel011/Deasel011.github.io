<h1>
    <a id="user-content-test-unitaires" class="anchor" href="#test-unitaires" aria-hidden="true">
        <span aria-hidden="true" class="octicon octicon-link"></span>
    </a>Test Unitaires
</h1>
<p>
    <em>Exécuter des tests imparfaits régulièrement est de loin supérieur à des tests parfaits qui ne sont pas écrits.</em> -
    <a href="https://martinfowler.com/articles/continuousIntegration.html" rel="nofollow">Martin Fowler</a>
</p>
<h2>
    <a id="user-content-pourquoi-faire-des-tests-unitaires" class="anchor" href="#pourquoi-faire-des-tests-unitaires" aria-hidden="true">
        <span aria-hidden="true" class="octicon octicon-link"></span>
    </a>Pourquoi faire des tests unitaires?
</h2>
<ul>
    <li>Permet de refactoriser le code avec plus d'assurance</li>
    <li>Permet de mieux comprendre l'architecture d'une base de code</li>
    <li>Permet de réduire considérablement la documentation associée a une base de code</li>
    <li>Permet de simplifié la base de code en favorisant avec des patrons de conceptions compatible avec les méthodes de tests</li>
</ul>
<h2>
Fake It Easy
</h2>
<p>EN COURS DE RÉDACTION</p>
<h2>
    <a id="user-content-atelier" class="anchor" href="#atelier" aria-hidden="true">
        <span aria-hidden="true" class="octicon octicon-link"></span>
    </a>Atelier
</h2>
<p>Comme exercice, nous allons télécharger le
    <a href="https://github.com/Deasel011/UnitTestsWorkshop/archive/master.zip">projet d'atelier</a>
    (on peut aussi le cloner a partir de la branche master avec ce
    <a href="https://github.com/Deasel011/UnitTestsWorkshop.git">lien</a>).
</p>
<h3>
    <a id="user-content-la-machine-à-jus" class="anchor" href="#la-machine-%C3%A0-jus" aria-hidden="true">
        <span aria-hidden="true" class="octicon octicon-link"></span>
    </a>La machine à jus
</h3>
<p>Le but de cet atelier est d'introduire des bonnes pratiques provenant du
    <a href="https://martinfowler.com/bliki/TestDrivenDevelopment.html" rel="nofollow">TDD</a>.
    Ainsi, dans le projet que nous allons ouvrir, il y a plusieurs définitions de tests que nous allons devoir écrire puis faire passer!
    La librairie de test choisie est
    <a href="https://xunit.net/#documentation" rel="nofollow">XUnit</a> et nous allons utiliser une librairie qui nous permet
    de faire des mocks, des fakes, des assertions complexes, et bien d'autres fonctionnalitées pour alléger les tests :
    <a href="https://fakeiteasy.readthedocs.io/en/stable/" rel="nofollow">FakeItEasy</a>.
</p>
<p>La machine a jus fonctionne avec une interface
    <em>IJuiceService</em> et possède une méthode
    <em>Create</em> qui prend en parametre une recette!
</p>
<p>Puisqu'il existe plusieurs sources d'ingrédients (fruits et ingrédients communs), nous allons cacher la source des ingrédients
    à l'aide du patron Repository.
    Nous donnerons à cette classe une seule responsabilité; gérer l'aiguillage vers le bon réfrigérateur!</p>
<p>Nous n'implémenterons pas les Interfaces Gateway dans cet atelier, nous allons plutôt préférer Mocké ceux-ci afin de démontrer
    qu'il n'est pas nécessaire d'avoir tout en place avant de commencer les tests. (Nous ne devrions jamais attendre que tout soit
    prêt avant d'écrire les tests)</p>
<p>Une branche result est disponible afin de voir un exemple de comment s'y prendre!</p>
<h2>
    <a id="user-content-est-ce-que-les-test-unitaires-en-valent-leffort" class="anchor" href="#est-ce-que-les-test-unitaires-en-valent-leffort" aria-hidden="true">
        <span aria-hidden="true" class="octicon octicon-link"></span>
    </a>Est-ce que les Test Unitaires en valent l'effort?
</h2>
<p>Anecdote provenant de
    <a href="https://stackoverflow.com/questions/67299/is-unit-testing-worth-the-effort/69263#69263" rel="nofollow">Stack Overflow</a> :
</p>
<hr>
<p>
    <em>Faire des tests unitaires ressemble étrangement à aller au gym.</em>
    <em>On sait tous très bien qu'on devrait aller au gym pour s'entrainer car les bienfaits sont prouvés.</em>
    <em>Au tout début, lorsqu'on commence à s'entrainer, il est très facile de trouver de la motivation.</em>
    <em>Par contre, après quelques jours d'entrainement, la plupart d'entre nous se requestionnent : est-ce que ça en vaut vraiment la peine?</em>
    <em>On perd littéralement une heure et plus par jour pour aller au gym et s'entrainer, qu'est-ce que cela nous apporte-t'il autre que des bras et des jambes endolorit.</em>
</p>
<p>
    <em>Après plusieurs semaines, au moment où l'on commence à se sentir mieux et plus en forme, une énorme date de livraison se fait sentir.</em>
    <em>Bien sur, les priorités se mettant en place, c'est le gym qui saute. Aussi bêtement qu'il puisse être, lorsque la date de livraison est passée,</em>
    <em>nous avons perdu la bonne habitude qu'on avait réussi à établir durant les dernières semaines... Le retour est tout aussi douloureux que la première fois.</em>
</p>
<p>
    <em>C'est à ce moment qu'on se questionne pour savoir si l'on fait les choses de travers.</em>
    <em>Autour de nous, tout le monde en forme à l'air si heureux de profiter des vertus de l'exercice physique.</em>
    <em>On réalise alors qu'on est différent... Les autres n'ont pas besoin de déroger de leur trajet quotidien pour aller au gym.</em>
    <em>Lui a un gym dans son emplacement de travail, l'autre a un gym 24h à côté de son domicile...</em>
    <em>Ces gens-là n'ont pas besoin d'expliquer à leur entourage tous les bienfaits de l'activité physique.</em>
    <em>Leur entourage complet est considère l'activité physique et le gym comme un fait accompli.</em>
    <em>Lorsqu'un empêchement prône à l'horizon, leur entourage à eux comprend exactement pourquoi ils vont devoir se lever 1h plus tôt pendant le voyage de camping afin d'aller courir.</em>
    <em>Pas de questions... Pas de commentaires... Rien de plus normal...</em>
    <em>Lorsque les dates de livraisons arrivent, personne dans leur entourage ne leur dit que les tests unitaires ne sont pas nécessaires, qu'ils ralentissent la livraison.</em>
    <em>Tous connaissent exactement les vertus des tests unitaires.</em>
</p>
<p>
    <em>Bref, est-ce que les tests unitaires en valent l'effort?</em>
    <em>Absolument. Et comme avec l'activité physique, le degré d'effort à mettre est différent d'une personne à l'autre.</em>
</p>
<p>
    <strong>...</strong>
</p>
<hr>
